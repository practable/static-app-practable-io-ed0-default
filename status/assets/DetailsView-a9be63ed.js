import{_ as v,d as f,b as r,o as s,c as o,a as t,t as d,u as w,r as k,F as _,e as g,f as y,g as $,h,i as j}from"./index-7dd6d2c7.js";const x=f({name:"EventItem",props:["event"],setup(e){return{invalid:r(()=>e===void 0),when:r(()=>e.event.when===void 0?"-":e.event.when.split(".")[0]),healthy:r(()=>e.event===void 0?!1:!!(e.event.hasOwnProperty("healthy")&&e.event.healthy)),jumpOk:r(()=>e.event===void 0?!1:!!(e.event.hasOwnProperty("jump_ok")&&e.event.jump_ok)),issues:r(()=>{if(e.event===void 0)return"";if(e.event.hasOwnProperty("issues"))return e.event.issues.join(", ")}),streamsOk:r(()=>{if(e.event===void 0)return"";let n=[];if(e.event.hasOwnProperty("stream_ok"))for(const[i,a]of Object.entries(e.event.stream_ok))a&&n.push(i);return n.join(", ")})}}}),E={key:0},b=t("td",null," - ",-1),O=t("td",null," invalid event ",-1),B=[b,O],I={key:1},D={width:"3%"},A={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"green",width:"50%"},M=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"},null,-1),P=[M],S={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"red",width:"50%"},F=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"},null,-1),L=[F],V={width:"3%"},C={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"green",width:"50%"},N=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"},null,-1),R=[N],H={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"red",width:"50%"},J=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"},null,-1),K=[J],W={class:"green"},q={class:"red"},z=t("td",null,null,-1);function G(e,n,i,a,u,l){return e.invalid?(s(),o("tr",E,B)):(s(),o("tr",I,[t("td",null,d(e.when),1),t("td",D,[e.healthy?(s(),o("svg",A,P)):(s(),o("svg",S,L))]),t("td",V,[e.jumpOk?(s(),o("svg",C,R)):(s(),o("svg",H,K))]),t("td",W,d(e.streamsOk),1),t("td",q,d(e.issues),1),z]))}const Q=v(x,[["render",G]]);const m=w(),T=f({name:"ExperimentDetails",components:{EventItem:Q},props:["name"],setup(e){return{events:r(()=>m.events[e.name]),status:r(()=>(console.log("name",e.name),m.experiments[e.name]))}}}),U={class:"container"},X={class:"table table-striped table-bordered"},Y=t("thead",null,[t("tr",null,[t("th",null,"When"),t("th",null,"H"),t("th",null,"J"),t("th",null,"Streams OK"),t("th",null,"Issues")])],-1),Z=t("h3",null,"Raw",-1);function ee(e,n,i,a,u,l){const c=k("EventItem");return s(),o(_,null,[t("div",U,[t("table",X,[Y,t("tbody",null,[(s(!0),o(_,null,g(e.events,p=>(s(),y(c,{event:p},null,8,["event"]))),256))])])]),t("div",null,[Z,t("p",null,d(e.events),1)])],64)}const te=v(T,[["render",ee]]),se={__name:"DetailsView",setup(e){const n=$();console.log(n.params),console.log(n.path);const i=w();async function a(){let u="https://app.practable.io/ed0/status/api/v1/experiments/events/"+n.params.id,l=null;try{l=await(await fetch(u)).json()}catch{console.log("error")}console.log("events:",n.params.id,l),i.addEventsFor(n.params.id,l)}return a(),(u,l)=>(s(),o(_,null,[t("main",null,[t("h1",null,d(h(n).params.id)+" health events",1)]),j(te,{name:h(n).params.id},null,8,["name"])],64))}};export{se as default};
